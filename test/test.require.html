<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>localForage require.js Tests!</title>

        <link rel="stylesheet" href="/bower_components/mocha/mocha.css" />
    </head>
    <body>
        <div id="mocha"></div>

        <!-- test libs -->
        <script src="/bower_components/requirejs/require.js"></script>
        <script src="/bower_components/assert/assert.js"></script>
        <script src="/bower_components/mocha/mocha.js"></script>
        <script src="/bower_components/chai/chai.js"></script>

        <!-- Modernizr  -->
        <script src="/bower_components/modernizr/modernizr.js"></script>

        <!-- Test runner -->
        <script>
            require(['mocha'], () => mocha.setup('bdd'));
        </script>

        <script>
            // window.requireTest = true;
            var require = this.require;
            if (require) {
                requirejs.config({
                    paths: {
                        localforage: '/dist/localforage'
                    }
                });
                require(['localforage'], function (localforage) {
                    window.localforage = localforage;
                    require([
                        'mocha',
                        'test.callwhenready',
                        'test.api',
                        'test.config',
                        'test.datatypes',
                        'test.drivers',
                        'test.iframes',
                        'test.webworkers',
                        'test.serviceworkers'
                    ], () => mocha.run()); // Run tests
                });
            }
            // Disable warning
            window.console.warn = function () {};
        </script>
    </body>
</html>
