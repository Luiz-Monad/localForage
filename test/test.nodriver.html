<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>localForage Tests!</title>

        <link rel="stylesheet" href="/bower_components/mocha/mocha.css" />
    </head>
    <body>
        <div id="mocha"></div>

        <script>
            // Virtually remove support for the drivers.
            // This has to be done before localforage
            // and Modernizr execute.

            try {
                window.indexedDB.open = null;
            } catch (error) {}

            try {
                window.localStorage.setItem = null;
            } catch (error) {}

            try {
                window.openDatabase = null;
            } catch (error) {}
        </script>

        <!-- localForage -->
        <script src="/dist/localforage.js"></script>

        <!-- Modernizr  -->
        <script src="/bower_components/modernizr/modernizr.js"></script>

        <!-- test libs -->
        <script src="/bower_components/requirejs/require.js"></script>
        <script src="/bower_components/assert/assert.js"></script>
        <script src="/bower_components/mocha/mocha.js"></script>
        <script src="/bower_components/chai/chai.js"></script>

        <!-- Test runner -->
        <script>
            require(['mocha'], () => mocha.setup('bdd'));
        </script>

        <!-- specs -->
        <script src="/test/test.nodriver.js"></script>

        <!-- Disable warning -->
        <script>
            window.console.warn = function () {};
        </script>

        <!-- Run tests -->
        <script>
            require(['mocha', 'test.nodriver'], () => mocha.run());
        </script>
    </body>
</html>
